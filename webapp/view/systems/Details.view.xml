<mvc:View controllerName="kms.controller.systems.Detail"
    xmlns:m="sap.m" xmlns="sap.uxap" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"
    xmlns:dataHelp="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
    <ObjectPageLayout showTitleInHeaderContent="true" upperCaseAnchorBar="false">
        <headerTitle>
            <ObjectPageDynamicHeaderTitle>
                <expandedHeading>
                    <m:Title text="{oneWay>/selectedSystem/properties/externalName}" wrapping="true" />
                </expandedHeading>
                <expandedContent>
                    <m:VBox>
                        <m:Label
                            text="{oneWay>/selectedSystem/region}" />
                        <m:HBox justifyContent="Start" alignContent="Center" alignItems="Center">
                            <m:Label text="{oneWay>/selectedSystem/identifier}" />
                            <m:Button icon="sap-icon://copy" type="Transparent"
                                class="sapUiTinyMarginBegin sapUiTinyMarginBottom"
                                dataHelp:textToCopy="{oneWay>/selectedSystem/identifier}"
                                press="onCopyToClipboardPress" />
                        </m:HBox>
                    </m:VBox>
                </expandedContent>
                <actions>
                    <m:OverflowToolbar style="Clear"
                        visible="{=  ${roleBasedAccess>/systems/canManage}}">
                        <m:ToolbarSpacer />
                        <ObjectPageHeaderActionButton text="{i18n>switchKeyConfiguration}"
                            visible="{= !!${oneWay>/selectedSystem/keyConfigurationID} &amp;&amp; ${oneWay>/selectedSystem/status} !== 'FAILED'}"
                            press="onSwitchKeyConfigPress"
                            hideText="false" />
                        <ObjectPageHeaderActionButton text="{i18n>cancel}"
                            visible="{= !!${oneWay>/selectedSystem/canCancel} &amp;&amp; ${oneWay>/selectedSystem/status} === 'FAILED'}"
                            press="onSystemCancelPress"
                            hideText="false" type="Reject" />
                        <ObjectPageHeaderActionButton text="{i18n>retry}"
                            visible="{= !!${oneWay>/selectedSystem/canRetry} &amp;&amp; ${oneWay>/selectedSystem/status} === 'FAILED'}"
                            press="onSystemRetryPress"
                            hideText="false" type="Emphasized" />
                        <ObjectPageHeaderActionButton text="{i18n>disconnect}" hideText="false"
                            visible="{= !!${oneWay>/selectedSystem/keyConfigurationID} &amp;&amp; ${oneWay>/selectedSystem/status} !== 'FAILED'}"
                            press="onSystemDisconnectPress"
                            type="Reject" />
                    </m:OverflowToolbar>
                </actions>
                <navigationActions>
                    <m:OverflowToolbarButton type="Transparent" icon="sap-icon://decline"
                        press="onCancel" tooltip="Close" />
                </navigationActions>
            </ObjectPageDynamicHeaderTitle>
        </headerTitle>
        <sections>
            <ObjectPageSection titleUppercase="false" id="systemsObjectPageSectionDetails"
                title="{i18n>details}" showTitle="false">
                <subSections>
                    <ObjectPageSubSection>
                        <m:VBox>
                            <core:Fragment
                                fragmentName="kms.resources.fragments.systems.DetailsForm"
                                type="XML" />
                        </m:VBox>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
        </sections>
    </ObjectPageLayout>
</mvc:View>